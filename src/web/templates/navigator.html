{% extends "base.html" %}

{% block navigator %}
<!-- Header -->
<header class="koine-nav-header">
    <div class="koine-nav-brand">
        <!-- Minimal Dove Logo (nav bar size) -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 80" width="36" height="24">
            <ellipse cx="60" cy="38" rx="12" ry="16" fill="#e8d5a3" opacity="0.85" />
            <path d="M48,32 Q20,8 -2,2 Q15,18 28,28 Q38,34 44,35Z" fill="#d4c18a" opacity="0.75" />
            <path d="M46,28 Q22,10 8,6 Q22,20 34,28Z" fill="#e8dbb0" opacity="0.5" />
            <path d="M72,32 Q100,8 122,2 Q105,18 92,28 Q82,34 76,35Z" fill="#d4c18a" opacity="0.75" />
            <path d="M74,28 Q98,10 112,6 Q98,20 86,28Z" fill="#e8dbb0" opacity="0.5" />
            <circle cx="60" cy="22" r="6.5" fill="#f0e4c0" opacity="0.9" />
            <path d="M55,52 L60,68 L65,52" fill="#d4c18a" opacity="0.5" />
        </svg>
        <span class="koine-wordmark" style="font-size: var(--koine-fs-lg);">Navigator</span>
    </div>

    <div class="koine-nav-controls">
        <button class="koine-icon-btn" title="New Chat">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 4.5v15m7.5-7.5h-15" />
            </svg>
        </button>
        <button class="koine-icon-btn" title="History">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        </button>
    </div>
</header>

<!-- Chat Area -->
<div class="koine-chat-area">
    <div class="koine-welcome">

        <!-- Reduced Logo: Dove + 7 Flames (welcome hero) -->
        <svg class="koine-welcome-logo koine-animate-glow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 220 180"
            width="140">
            <defs>
                <linearGradient id="flame-welcome" x1="0" y1="1" x2="0" y2="0">
                    <stop offset="0%" stop-color="#c97a20" />
                    <stop offset="40%" stop-color="#daa540" />
                    <stop offset="100%" stop-color="#f0e0a0" />
                </linearGradient>
            </defs>
            <!-- Dove -->
            <ellipse cx="110" cy="48" rx="12" ry="16" fill="#e8d5a3" opacity="0.85" />
            <path d="M98,42 Q70,18 38,12 Q55,28 68,38 Q78,44 94,45Z" fill="#d4c18a" opacity="0.75" />
            <path d="M96,38 Q72,20 48,16 Q62,30 74,38Z" fill="#e8dbb0" opacity="0.5" />
            <path d="M122,42 Q150,18 182,12 Q165,28 152,38 Q142,44 126,45Z" fill="#d4c18a" opacity="0.75" />
            <path d="M124,38 Q148,20 172,16 Q158,30 146,38Z" fill="#e8dbb0" opacity="0.5" />
            <circle cx="110" cy="32" r="6.5" fill="#f0e4c0" opacity="0.9" />
            <path d="M105,62 L110,75 L115,62" fill="#d4c18a" opacity="0.5" />
            <!-- Seven Flames -->
            <path d="M35,158 Q32,145 36,138 Q30,146 28,140 Q26,130 35,118 Q44,130 42,140 Q40,146 34,138 Q38,145 35,158Z"
                fill="url(#flame-welcome)" opacity="0.85" />
            <path d="M62,154 Q59,142 63,135 Q58,142 56,137 Q54,128 62,116 Q70,128 68,137 Q66,142 61,135 Q65,142 62,154Z"
                fill="url(#flame-welcome)" opacity="0.85" />
            <path d="M86,151 Q83,139 87,133 Q82,139 80,135 Q78,126 86,114 Q94,126 92,135 Q90,139 85,133 Q89,139 86,151Z"
                fill="url(#flame-welcome)" opacity="0.85" />
            <path
                d="M110,150 Q106,136 111,128 Q105,136 103,131 Q100,120 110,106 Q120,120 117,131 Q115,136 109,128 Q114,136 110,150Z"
                fill="url(#flame-welcome)" opacity="0.95" />
            <path
                d="M134,151 Q131,139 135,133 Q130,139 128,135 Q126,126 134,114 Q142,126 140,135 Q138,139 133,133 Q137,139 134,151Z"
                fill="url(#flame-welcome)" opacity="0.85" />
            <path
                d="M158,154 Q155,142 159,135 Q154,142 152,137 Q150,128 158,116 Q166,128 164,137 Q162,142 157,135 Q161,142 158,154Z"
                fill="url(#flame-welcome)" opacity="0.85" />
            <path
                d="M185,158 Q182,145 186,138 Q180,146 178,140 Q176,130 185,118 Q194,130 192,140 Q190,146 184,138 Q188,145 185,158Z"
                fill="url(#flame-welcome)" opacity="0.85" />
        </svg>

        <div class="koine-welcome-text">
            <h2>Knowledge Awaits</h2>
            <p>Through wisdom, we understand. Ask regarding your ingested knowledge, or let me guide you to the unknown.
            </p>
        </div>

        <div class="koine-suggestions koine-stagger">
            <button class="koine-suggestion-card koine-animate-fade-in-up">
                <span class="koine-overline">Explore</span>
                <span>What's new in my library?</span>
            </button>
            <button class="koine-suggestion-card koine-animate-fade-in-up">
                <span class="koine-overline">Synthesize</span>
                <span>Connect recent papers</span>
            </button>
            <button class="koine-suggestion-card koine-animate-fade-in-up">
                <span class="koine-overline">Discover</span>
                <span>Surface unknown unknowns</span>
            </button>
            <button class="koine-suggestion-card koine-animate-fade-in-up">
                <span class="koine-overline">Summarize</span>
                <span>Today's knowledge landscape</span>
            </button>
        </div>
    </div>
</div>

<!-- Input Area -->
<div class="koine-input-area">
    <div class="koine-input-wrapper">
        <textarea rows="1" placeholder="Ask a question..." class="koine-chat-input"></textarea>
        <button class="koine-send-btn" title="Send">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
            </svg>
        </button>
    </div>
    <div class="koine-input-footer">
        <span class="koine-overline" style="font-size: var(--koine-fs-2xs); opacity: 0.5;">Confidential Â· Local
            Processing</span>
    </div>
</div>
{% endblock %}


{% block visualization %}
<!-- Empty state with Full Logo -->
<div class="koine-viz-empty">
    <div class="koine-viz-empty-content">
        <!-- Full logo: Dove + Flames + People + Rays -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 220 260" width="80">
            <defs>
                <linearGradient id="flame-viz" x1="0" y1="1" x2="0" y2="0">
                    <stop offset="0%" stop-color="#c97a20" />
                    <stop offset="40%" stop-color="#daa540" />
                    <stop offset="100%" stop-color="#f0e0a0" />
                </linearGradient>
                <linearGradient id="ray-viz" x1="0" y1="0" x2="0" y2="1">
                    <stop offset="0%" stop-color="#d4b860" stop-opacity="0.6" />
                    <stop offset="100%" stop-color="#d4b860" stop-opacity="0" />
                </linearGradient>
                <radialGradient id="aura-viz" cx="50%" cy="30%">
                    <stop offset="0%" stop-color="#f0d878" stop-opacity="0.12" />
                    <stop offset="100%" stop-color="#f0d878" stop-opacity="0" />
                </radialGradient>
            </defs>
            <ellipse cx="110" cy="80" rx="100" ry="70" fill="url(#aura-viz)" />
            <g opacity="0.35">
                <line x1="110" y1="65" x2="30" y2="160" stroke="url(#ray-viz)" stroke-width="0.8" />
                <line x1="110" y1="65" x2="50" y2="170" stroke="url(#ray-viz)" stroke-width="0.8" />
                <line x1="110" y1="65" x2="70" y2="178" stroke="url(#ray-viz)" stroke-width="0.8" />
                <line x1="110" y1="65" x2="90" y2="182" stroke="url(#ray-viz)" stroke-width="0.8" />
                <line x1="110" y1="65" x2="110" y2="185" stroke="url(#ray-viz)" stroke-width="0.8" />
                <line x1="110" y1="65" x2="130" y2="182" stroke="url(#ray-viz)" stroke-width="0.8" />
                <line x1="110" y1="65" x2="150" y2="178" stroke="url(#ray-viz)" stroke-width="0.8" />
                <line x1="110" y1="65" x2="170" y2="170" stroke="url(#ray-viz)" stroke-width="0.8" />
                <line x1="110" y1="65" x2="190" y2="160" stroke="url(#ray-viz)" stroke-width="0.8" />
            </g>
            <g>
                <ellipse cx="110" cy="58" rx="12" ry="16" fill="#e8d5a3" opacity="0.85" />
                <path d="M98,52 Q70,28 38,22 Q55,38 68,48 Q78,54 94,55Z" fill="#d4c18a" opacity="0.75" />
                <path d="M96,48 Q72,30 48,26 Q62,40 74,48Z" fill="#e8dbb0" opacity="0.5" />
                <path d="M122,52 Q150,28 182,22 Q165,38 152,48 Q142,54 126,55Z" fill="#d4c18a" opacity="0.75" />
                <path d="M124,48 Q148,30 172,26 Q158,40 146,48Z" fill="#e8dbb0" opacity="0.5" />
                <circle cx="110" cy="42" r="6.5" fill="#f0e4c0" opacity="0.9" />
                <path d="M105,72 L110,85 L115,72" fill="#d4c18a" opacity="0.5" />
            </g>
            <g>
                <path
                    d="M35,168 Q32,155 36,148 Q30,156 28,150 Q26,140 35,128 Q44,140 42,150 Q40,156 34,148 Q38,155 35,168Z"
                    fill="url(#flame-viz)" opacity="0.85" />
                <path
                    d="M62,164 Q59,152 63,145 Q58,152 56,147 Q54,138 62,126 Q70,138 68,147 Q66,152 61,145 Q65,152 62,164Z"
                    fill="url(#flame-viz)" opacity="0.85" />
                <path
                    d="M86,161 Q83,149 87,143 Q82,149 80,145 Q78,136 86,124 Q94,136 92,145 Q90,149 85,143 Q89,149 86,161Z"
                    fill="url(#flame-viz)" opacity="0.85" />
                <path
                    d="M110,160 Q106,146 111,138 Q105,146 103,141 Q100,130 110,116 Q120,130 117,141 Q115,146 109,138 Q114,146 110,160Z"
                    fill="url(#flame-viz)" opacity="0.95" />
                <path
                    d="M134,161 Q131,149 135,143 Q130,149 128,145 Q126,136 134,114 Q142,136 140,145 Q138,149 133,143 Q137,149 134,161Z"
                    fill="url(#flame-viz)" opacity="0.85" />
                <path
                    d="M158,164 Q155,152 159,145 Q154,152 152,147 Q150,138 158,126 Q166,138 164,147 Q162,152 157,145 Q161,152 158,164Z"
                    fill="url(#flame-viz)" opacity="0.85" />
                <path
                    d="M185,168 Q182,155 186,148 Q180,156 178,150 Q176,140 185,128 Q194,140 192,150 Q190,156 184,148 Q188,155 185,168Z"
                    fill="url(#flame-viz)" opacity="0.85" />
            </g>
            <g opacity="0.7">
                <circle cx="35" cy="182" r="7" fill="#3a2a15" />
                <path d="M24,210 Q24,190 35,188 Q46,190 46,210Z" fill="#3a2a15" />
                <circle cx="62" cy="179" r="7.5" fill="#3a2a15" />
                <path d="M50,210 Q50,187 62,185 Q74,187 74,210Z" fill="#3a2a15" />
                <circle cx="86" cy="177" r="7.5" fill="#3a2a15" />
                <path d="M74,210 Q74,185 86,183 Q98,185 98,210Z" fill="#3a2a15" />
                <circle cx="110" cy="175" r="8" fill="#3a2a15" />
                <path d="M98,210 Q98,183 110,181 Q122,183 122,210Z" fill="#3a2a15" />
                <circle cx="134" cy="177" r="7.5" fill="#3a2a15" />
                <path d="M122,210 Q122,185 134,183 Q146,185 146,210Z" fill="#3a2a15" />
                <circle cx="158" cy="179" r="7.5" fill="#3a2a15" />
                <path d="M146,210 Q146,187 158,185 Q170,187 170,210Z" fill="#3a2a15" />
                <circle cx="185" cy="182" r="7" fill="#3a2a15" />
                <path d="M174,210 Q174,190 185,188 Q196,190 196,210Z" fill="#3a2a15" />
            </g>
            <g stroke="#c9a84c" stroke-width="0.4" opacity="0.12">
                <line x1="35" y1="182" x2="62" y2="179" />
                <line x1="62" y1="179" x2="86" y2="177" />
                <line x1="86" y1="177" x2="110" y2="175" />
                <line x1="110" y1="175" x2="134" y2="177" />
                <line x1="134" y1="177" x2="158" y2="179" />
                <line x1="158" y1="179" x2="185" y2="182" />
                <line x1="35" y1="182" x2="110" y2="175" />
                <line x1="185" y1="182" x2="110" y2="175" />
                <line x1="62" y1="179" x2="134" y2="177" />
                <line x1="86" y1="177" x2="158" y2="179" />
            </g>
        </svg>

        <h3>Visualization Platform</h3>
        <p>Your knowledge graph will appear here once content is ingested and processed.</p>
    </div>
</div>

<!-- Controls Overlay -->
<div class="koine-viz-controls">
    <button class="koine-icon-btn" title="Search Graph">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
    </button>
    <button class="koine-icon-btn" title="Graph Settings">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
        </svg>
    </button>
</div>
{% endblock %}